---
draft: false
title: Home Assistant - Les modules complémentaires (Add-ons)
description: "Comment ajouter un module complementaire (add-on, plugin ou extension) sur Home Assistant depuuis le magasin officiel mais aussi depuis un dépot externe."
pubDate: 12/15/2023
heroImage: './ha_addon_store.png'
categories:
- Home Assistant
- Domotique
authors: 
- mcfly
tags:
- add-ons
- HAOS
- Supervised
- Débutants
---

import Alert from "@components/mdx/Alert.astro";

Les modules complémentaires permettent à l'utilisateur d'étendre les fonctionnalités de Home Assistant en installant des applications supplémentaires. 
Il s'agit d'exécuter une application avec laquelle Home Assistant peut s'intégrer (comme Node-Red, Grafana, InfluxDB, DuckDNS, etc.), déjà pré-configuré.

Les modules complémentaires peuvent être installés et configurés via le panneau `Paramètres` > `Modules complémentaires` de Home Assistant. 

Il existe deux types de module complémentaire :
* Les officiels : reconnus officiellement par Home Assistant et disponibles directement depuis la boutique des modules complémentaires,
* Les non-officiels : nécessitant l'ajout du dépôt GitHub en manuel, mais l'installation se fera quand même depuis la Boutique des modules complémentaires.

L'installation d'un module complémentaire étant toujours pareil, je ne reviendrais pas dessus lors de mes publications. Voici comment procéder.

<Alert type="info">Home assistant a simplifié la chose en mettant à disposition des développeurs un script générant un bouton (pour les BluePrints, Dépôts, etc) qui, d'un simple clique, fait les actions à votre place. Cela nécessite simplement de saisir l'adresse de votre instance. ![Bouton Import Dépôt](./img/repository_import.svg)![Bouton Import BluePrint](./img/blueprint_import.svg)</Alert>

## Installation d'un module complémentaire
## Officiel
Rendez-vous dans `Paramètres` > `Modules complémentaires` puis cliquez sur le bouton `Boutique des modules complémentaires` en bas à droite.
* Rechercher l'application  à ajouter (ici, File Editor),
* Cliquer dessus,
* Puis `INSTALLER`
![Installation du module complémentaire officiel File Editor sur Home Assistant](./img/ha_file_editor_installation.gif)

## Depuis une source externe
Pour installer depuis une source externe, la procédure est identique, **mais** il va falloir ajouter la source (le dépôt) avant de rechercher puis d'installer.
Pour ajouter un dépôt, rendez-vous toujours dans `Paramètres` > `Modules complémentaires` puis cliquez sur le bouton `Boutique des modules complémentaires` en bas a droite.
* Cliquer sur les `...` en haut à droite,
* Puis sur Dépôts,
* Coller l'URL du dépôt,
* Cliquer sur `AJOUTER` puis `FERMER`.
* Rafraîchir votre page avec F5.

Voici un exemple avec l'ajout du dépôt pour [Samba Backup](https://github.com/thomasmauerer/hassio-addons), pour lequel j'ai [écrit un article](/blog/ha_backups) que je vous conseille de lire si ce n'est pas déjà fait.
Normalement, le dépôt devrait être ajouté à la suite de ceux existants.

![Ajouter un module complémentaire depuis un dépôt externe dans Home Assistant](./img/ha_addons_depot_externe.gif)

Il vous suffit de reprendre la procédure pour l'installation d'un [module complémentaire officiel du dessus](#Officiel) et c'est partie.

## Présentation
Les modules complémentaires (add-ons) se présentent toujours de la même façon. En voici un aperçu.
![Présentation d'un add-on dans Home Assistant](./img/presentation_add-on.png)

En haut, vous avez quatre onglets :
* **Info :** Page de lancement, d'installation et de présentation de l'add-on.
* **Documentation :** Vous donne la procédure pour la configuration de l'add-on.
* **Configuration :** C'est ici que vous allez configurer votre add-on, s'il nécessite une configuration.
* **Journal :** Permet de voir les logs sur le lancement ou le fonctionnement de l'add-on.

Dans l'onglet **info**, vous avez des options sur l'exécution du module, son utilisation des ressources, la possibilité d'installer/désinstaller, d'éteindre/démarrer/redémarrer le module.
* Lancer au démarrage : je pense que c'est clair pour tout le monde. *Pour la plupart des modules, il doit être activé, mais pour certains modules comme Terminal SSH ou [Zigstar](/blog/ha_flasher_sonoff_zigbee) pas besoin.*
* Chien de garde : Permet de relancer automatiquement le module s'il s'arrête pour une raison quelconque. *Vous pouvez l'activer.*
* Mise à jour automatique : Permet de mettre à jour le module automatiquement. *Je vous le déconseille, ça vous permet d'éviter une mise à jour bugué d'un add-on*
* Afficher dans la barre latérale : vous comprenez le principe aussi.

Dans l'onglet **Documentation**, vous avez la procédure pour bien configurer l'add-on avec ce qui est obligatoire ou optionnel et des exemples. Il est **important** de la lire.

L'onglet **Configuration** vous propose l'accès rapide aux éléments importants à configurer, mais vous pouvez aussi passer en YAML, si vous y êtes plus à l'aise.

Le dernier onglet, **Journal**, vous permet d'avoir les logs sur votre module. Ne pas hésiter à le consulter au démarrage du module, mais aussi lorsque vous avez des soucis.

## Conclusion
Nous arrivons au bout de ce petit article spécial débutant sur Home Assistant. J'espère qu'il vous sera utile et vous aidera à acquérir les bases.

Nous verrons dans un autre article, comment installer HACS (Home Assistant Community Store) qui est un magasin alternatif communautaire qui met à disposition des intégrations, des thèmes, des automatisations et d'autres choses.
Cela permet d'enrichir encore plus Home Assistant de compatibilité d'appareil, de thèmes, etc.

## Sources.
* https://www.home-assistant.io/addons/