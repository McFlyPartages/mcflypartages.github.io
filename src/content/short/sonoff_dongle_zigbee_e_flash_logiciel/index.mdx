---
draft: true
dossier: sonoff_dongle_zigbee_e_flash_logiciel
title: Flasher la clé Zigbee E Sonoff avec SecureCRT afin de récuperer d'un
  mauvais flash
description: Suite a un mauvais flash du Dongle Zigbee Sonoff modèle E, j'ai du
  passer par la méthode officielle et le logiciel SecureCRT sous Windows
  (j'avais que ca sus la main).
pubDate: 11/21/2024
authors:
  - mcfly
categories:
  - shorts
tags:
  - sonoff
  - zigbee
  - dongle
  - flash
affiliateLink: false
---
J'ai été confronté a un problème avec mon dongle Zigbee Sonoff modele E. Impossible de l'ajouter a Home Assistant, ni même de la flasher via [Silabs Firmware Builder](https://darkxst.github.io/silabs-firmware-builder/). Il a donc fallu utiliser l'ancienne méthode via Windows car je n'avais que ca sous la main mais ca doit être faisable sur Linux.


Il faut vérifier que votre périphérique apparait bien dans le Gestionnaire de périphérique, sinon, installez le driver disponible sur le site de [Silicon Labs](https://www.silabs.com/developer-tools/usb-to-uart-bridge-vcp-drivers?tab=downloads) en sélectionnant bien le driver VCP. 


![Dongle Zigbee Sonoff E dans le gestionnaire de périphérique](.img/sonoff_gestionnaire_peripherique.png "Dongle Zigbee Sonoff E dans le gestionnaire de périphérique")


Ensuite, vous récupérez le logiciel SecureCRT sur le[ site officiel](https://www.vandyke.com/cgi-bin/releases.php?product=securecrt) et le dernier firmware de votre Dongle sur le [GitHub de darkxst](https://github.com/darkxst/silabs-firmware-builder/tree/main/firmware_builds/zbdonglee).

Ensuite :

1. Démonter votre Dongle USB (quatre vis),
2. Lancer SecureCRT,
3. Brancher votre Dongle au PC,
4. Dans SecureCRT, selectionnez "serial", port COMX de votre Dongle USB et Baud Rate 115200. Finir par "Connect".

   ![Réglages de SecureCRT](.img/securecrt.png "Réglages de SecureCRT")
5. Maintenir le bouton "boot" appuyer et appuyer sur le bouton "reset", puis relâcher les deux. Vous devriez voir apparaitre ceci a l'écran

   ```

   Sonoff v1.0.1

   Gecko Bootloader v1.12.00
   1. upload gbl
   2. run
   3. ebl info
   BL > 
   ```
6. Saisir "`1`" puis dans le menu, sélectionner "`Transfer -> sendXmodem...`" et sélectionner votre fichier `.gbl`.


Une fois le flash terminé, il vous suffit de quitter la session.

Rapide efficace, ma clé est de nouveau disponible au flash via le Silabs Firmware Builder.
